{"ast":null,"code":"import _regeneratorRuntime from\"/home/hamadatomoki/repos/FrontendLab/spa_react_javascript_hello-world/.yarn/cache/@babel-runtime-npm-7.20.1-8f9256f2ed-00567a333d.zip/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hamadatomoki/repos/FrontendLab/spa_react_javascript_hello-world/.yarn/cache/@babel-runtime-npm-7.20.1-8f9256f2ed-00567a333d.zip/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";export var callExternalApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(options){var response,data,axiosError,_response,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios(options.config);case 3:response=_context.sent;data=response.data;return _context.abrupt(\"return\",{data:data,error:null});case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(!axios.isAxiosError(_context.t0)){_context.next=18;break;}axiosError=_context.t0;_response=axiosError.response;message=\"http request failed\";if(_response&&_response.statusText){message=_response.statusText;}if(axiosError.message){message=axiosError.message;}if(_response&&_response.data&&_response.data.message){message=_response.data.message;}return _context.abrupt(\"return\",{data:null,error:{message:message}});case 18:return _context.abrupt(\"return\",{data:null,error:{message:_context.t0.message}});case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function callExternalApi(_x){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["axios","callExternalApi","options","config","response","data","error","isAxiosError","axiosError","message","statusText"],"sources":["/home/hamadatomoki/repos/FrontendLab/spa_react_javascript_hello-world/src/services/external-api.service.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const callExternalApi = async (options) => {\n  try {\n    const response = await axios(options.config);\n    const { data } = response;\n\n    return {\n      data,\n      error: null,\n    };\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      const axiosError = error;\n\n      const { response } = axiosError;\n\n      let message = \"http request failed\";\n\n      if (response && response.statusText) {\n        message = response.statusText;\n      }\n\n      if (axiosError.message) {\n        message = axiosError.message;\n      }\n\n      if (response && response.data && response.data.message) {\n        message = response.data.message;\n      }\n\n      return {\n        data: null,\n        error: {\n          message,\n        },\n      };\n    }\n\n    return {\n      data: null,\n      error: {\n        message: error.message,\n      },\n    };\n  }\n};\n"],"mappings":"scAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB,MAAO,IAAMC,gBAAe,4FAAG,iBAAOC,OAAO,yMAElBF,MAAK,CAACE,OAAO,CAACC,MAAM,CAAC,QAAtCC,QAAQ,eACNC,IAAI,CAAKD,QAAQ,CAAjBC,IAAI,iCAEL,CACLA,IAAI,CAAJA,IAAI,CACJC,KAAK,CAAE,IACT,CAAC,8DAEGN,KAAK,CAACO,YAAY,aAAO,0BACrBC,UAAU,aAERJ,SAAQ,CAAKI,UAAU,CAAvBJ,QAAQ,CAEZK,OAAO,CAAG,qBAAqB,CAEnC,GAAIL,SAAQ,EAAIA,SAAQ,CAACM,UAAU,CAAE,CACnCD,OAAO,CAAGL,SAAQ,CAACM,UAAU,CAC/B,CAEA,GAAIF,UAAU,CAACC,OAAO,CAAE,CACtBA,OAAO,CAAGD,UAAU,CAACC,OAAO,CAC9B,CAEA,GAAIL,SAAQ,EAAIA,SAAQ,CAACC,IAAI,EAAID,SAAQ,CAACC,IAAI,CAACI,OAAO,CAAE,CACtDA,OAAO,CAAGL,SAAQ,CAACC,IAAI,CAACI,OAAO,CACjC,CAAC,gCAEM,CACLJ,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,CACLG,OAAO,CAAPA,OACF,CACF,CAAC,0CAGI,CACLJ,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,CACLG,OAAO,CAAE,YAAMA,OACjB,CACF,CAAC,sEAEJ,kBA5CYR,gBAAe,4CA4C3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}