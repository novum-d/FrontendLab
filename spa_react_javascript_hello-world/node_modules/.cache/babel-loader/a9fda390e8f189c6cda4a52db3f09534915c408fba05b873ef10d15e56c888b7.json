{"ast":null,"code":"import _regeneratorRuntime from\"/home/hamadatomoki/repos/FrontendLab/spa_react_javascript_hello-world/.yarn/cache/@babel-runtime-npm-7.20.1-8f9256f2ed-00567a333d.zip/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hamadatomoki/repos/FrontendLab/spa_react_javascript_hello-world/.yarn/cache/@babel-runtime-npm-7.20.1-8f9256f2ed-00567a333d.zip/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/hamadatomoki/repos/FrontendLab/spa_react_javascript_hello-world/.yarn/cache/@babel-runtime-npm-7.20.1-8f9256f2ed-00567a333d.zip/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{CodeSnippet}from\"../components/code-snippet\";import{PageLayout}from\"../components/page-layout\";import{getPublicResource}from\"../services/message.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PublicPage=function PublicPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];useEffect(function(){var isMounted=true;var getMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$getPublicResou,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getPublicResource();case 2:_yield$getPublicResou=_context.sent;data=_yield$getPublicResou.data;error=_yield$getPublicResou.error;if(isMounted){_context.next=7;break;}return _context.abrupt(\"return\");case 7:if(data){setMessage(JSON.stringify(data,null,2));}if(error){setMessage(JSON.stringify(error,null,2));}case 9:case\"end\":return _context.stop();}}},_callee);}));return function getMessage(){return _ref.apply(this,arguments);};}();getMessage();return function(){isMounted=false;};},[]);return/*#__PURE__*/_jsx(PageLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"content-layout\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"page-title\",className:\"content__title\",children:\"Public Page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content__body\",children:[/*#__PURE__*/_jsxs(\"p\",{id:\"page-description\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"This page retrieves a \",/*#__PURE__*/_jsx(\"strong\",{children:\"public message\"}),\" from an external API.\"]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Any visitor can access this page.\"})})]}),/*#__PURE__*/_jsx(CodeSnippet,{title:\"Public Message\",code:message})]})]})});};","map":{"version":3,"names":["React","useEffect","useState","CodeSnippet","PageLayout","getPublicResource","PublicPage","message","setMessage","isMounted","getMessage","data","error","JSON","stringify"],"sources":["/home/hamadatomoki/repos/FrontendLab/spa_react_javascript_hello-world/src/pages/public-page.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { CodeSnippet } from \"../components/code-snippet\";\nimport { PageLayout } from \"../components/page-layout\";\nimport { getPublicResource } from \"../services/message.service\";\n\nexport const PublicPage = () => {\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    let isMounted = true;\n\n    const getMessage = async () => {\n      const { data, error } = await getPublicResource();\n\n      if (!isMounted) {\n        return;\n      }\n\n      if (data) {\n        setMessage(JSON.stringify(data, null, 2));\n      }\n\n      if (error) {\n        setMessage(JSON.stringify(error, null, 2));\n      }\n    };\n\n    getMessage();\n\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  return (\n    <PageLayout>\n      <div className=\"content-layout\">\n        <h1 id=\"page-title\" className=\"content__title\">\n          Public Page\n        </h1>\n        <div className=\"content__body\">\n          <p id=\"page-description\">\n            <span>\n              This page retrieves a <strong>public message</strong> from an\n              external API.\n            </span>\n            <span>\n              <strong>Any visitor can access this page.</strong>\n            </span>\n          </p>\n          <CodeSnippet title=\"Public Message\" code={message} />\n        </div>\n      </div>\n    </PageLayout>\n  );\n};\n"],"mappings":"iqBAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,4BAA4B,CACxD,OAASC,UAAU,KAAQ,2BAA2B,CACtD,OAASC,iBAAiB,KAAQ,6BAA6B,CAAC,wFAEhE,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CAC9B,cAA8BJ,QAAQ,CAAC,EAAE,CAAC,wCAAnCK,OAAO,eAAEC,UAAU,eAE1BP,SAAS,CAAC,UAAM,CACd,GAAIQ,UAAS,CAAG,IAAI,CAEpB,GAAMC,WAAU,4FAAG,gMACaL,kBAAiB,EAAE,4CAAzCM,IAAI,uBAAJA,IAAI,CAAEC,KAAK,uBAALA,KAAK,IAEdH,SAAS,iEAId,GAAIE,IAAI,CAAE,CACRH,UAAU,CAACK,IAAI,CAACC,SAAS,CAACH,IAAI,CAAE,IAAI,CAAE,CAAC,CAAC,CAAC,CAC3C,CAEA,GAAIC,KAAK,CAAE,CACTJ,UAAU,CAACK,IAAI,CAACC,SAAS,CAACF,KAAK,CAAE,IAAI,CAAE,CAAC,CAAC,CAAC,CAC5C,CAAC,sDACF,kBAdKF,WAAU,0CAcf,CAEDA,UAAU,EAAE,CAEZ,MAAO,WAAM,CACXD,SAAS,CAAG,KAAK,CACnB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,KAAC,UAAU,wBACT,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,WAAI,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,gBAAgB,yBAEzC,cACL,aAAK,SAAS,CAAC,eAAe,wBAC5B,WAAG,EAAE,CAAC,kBAAkB,wBACtB,8DACwB,0CAA+B,4BAEhD,cACP,mCACE,6DAAkD,EAC7C,GACL,cACJ,KAAC,WAAW,EAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAEF,OAAQ,EAAG,GACjD,GACF,EACK,CAEjB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}